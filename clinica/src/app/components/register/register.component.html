<div class="register-container">
  <div class="register-card">
    <h1 class="title">🏥 Registro Clínica Online</h1>

    <!-- Selector de tipo de usuario -->
    <div class="radio-group">
      <label>
        <input type="radio" name="tipoUsuario" value="paciente" 
               [checked]="tipoUsuario === 'paciente'" 
               (change)="tipoUsuario='paciente'">
        👤 Paciente
      </label>
      <label>
        <input type="radio" name="tipoUsuario" value="especialista" 
               [checked]="tipoUsuario === 'especialista'" 
               (change)="tipoUsuario='especialista'">
        👨‍⚕️ Especialista
      </label>
    </div>

    <!-- Componentes de registro -->
    <div class="register-children">
      <app-paciente *ngIf="tipoUsuario === 'paciente'"></app-paciente>
      <app-especialista *ngIf="tipoUsuario === 'especialista'"></app-especialista>
    </div>

    <!-- Términos y condiciones -->
    <div class="form-group" style="margin-top: 20px;">
      <label style="display: flex; align-items: center; gap: 10px; justify-content: center;">
        <input type="checkbox" id="acepto" [(ngModel)]="aceptoCondiciones" 
               style="width: 18px; height: 18px; accent-color: #17a2b8;">
        📋 Acepto las condiciones de uso
      </label>
    </div>

    <!-- Botones -->
    <div class="form-buttons">
      <button class="btn btn-primary" (click)="registrar()" 
              [disabled]="!puedeRegistrarse">
        <span *ngIf="!loading">✅ Registrarse</span>
        <span *ngIf="loading">⏳ Registrando...</span>
      </button>
      <button class="btn btn-secondary" (click)="volver()" [disabled]="loading">
        🏠 Volver al inicio
      </button>
    </div>
  </div>

  <!-- Overlay con Spinner Material -->
  <div class="overlay" *ngIf="loading">
    <mat-progress-spinner 
      mode="indeterminate" 
      color="primary" 
      diameter="50" 
      strokeWidth="4">
    </mat-progress-spinner>
  </div>
</div>
